<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <title>QQlogo - API by Flxxyz.com</title>
    <meta name="author" content="Flxxyz">
    <meta name=description content="加密链接内QQ号，不用烦恼如何隐藏链接里的QQ号辣~" />
    <meta name="keywords" content="QQ头像解析,加密QQ头像连接,加密,QQ,qlogoK值" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <!--script src="node_modules/jquery/dist/jquery.min.js"></script-->
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../public/css/main.css" />
</head>
<body>
<header>
	<h1>QQ头像</h1>
    <span><a href="http://api.flxxyz.com">回到首页</a></span>
</header><!-- header_end --><hr>
<article>
	<h3>使用手册</h3>
    <p>请求地址：<b>http://api.flxxyz.com/qq/index.php</b></p>
    <p>请求类型: GET</p>
    <p>请求参数：
        <ul>
        	<li><span>q</span> QQ号码</li>
        	<li><span>s</span> 返回相应尺寸
				<ul>
            		<li><span>40</span> 返回尺寸40x40的图片</li>
            		<li><span>100</span> 返回尺寸100x100的图片 【默认】</li>
            		<li><span>140</span> 返回尺寸140x140的图片</li>
            		<li><span>160</span> 返回尺寸160x160的图片</li>
        		</ul>
        	</li>
        	<li><span>p</span> 返回相应协议类型
				<ul>
            		<li><span>http</span> 返回使用http协议的链接 【默认】</li>
            		<li><span>https</span> 返回使用https协议的链接</li>
        		</ul>
        	</li>
        	<li><span>v</span> 返回相应解析版本
				<ul>
            		<li><span>1</span> 使用v1版本解析</li>
            		<li><span>2</span> 使用v2版本解析 【默认】</li>
        		</ul>
        	</li>
        </ul>

    </p>
	<form method="get">
    	<section class="option">
    		<section>
    			<label class="qq">QQ:</label>
    			<input type="text" class="qq" maxlength="12" min="5" pattern="[1-9][0-9]{4,11}" placeholder="填写QQ号" />
    		</section>
			<section>
        		<label>尺寸:</label>
        		<select class="size">
        			<option value="40">40</option>
            		<option value="100" selected>100</option>
            		<option value="140">140</option>
            		<option value="160">160</option>
        		</select>
        	</section>
        	<section>
        		<label>协议:</label>
        		<select class="protocol">
            		<option value="http">http</option>
            		<option value="https">https</option>
        		</select>
        	</section>
        	<section>
        		<label class="version">选择版本:</label>
        		<select class="version">
            		<option value="1">v1(相比v2非常慢)</option>
            		<option value="2" selected>v2(与v1有严重差距)</option>
        		</select>
        	</section>
        	<section>
        		<button class="btn" type="button">获取头像</button>
        	</section>
    	</section>
    	<section class="result">
    		<hr>
        	<input type="text" class="url" value="" placeholder="返回结果:" />
    	</section>
	</form>
</article><!-- article_end -->
<footer>
<script src="https://api.flxxyz.com/hitokoto/api.php?encode=js"></script>
<div id="hitokoto"><script>hitokoto()</script></div>
<section>2017 Power by <a href="https://www.flxxyz.com" target="_blank" style="color:#000">冯小贤</a>.</section>
</footer>
</body>
<script>
$(function() {
	$('input.url').focus(function() {
		$(this).select()
	});
    $('.btn').click(function() {
    	var qq = $('input.qq');
    	var re = /^[1-9][0-9]{4,11}$/;
        if( (qq.val() === '') ) {
            alert('请填写QQ号');
            return;
        }
        if( !re.test(qq.val()) ) {
        	alert('格式输入不正确呀，再来一次？');
            return;
        }
        $.ajax({
            url: 'index.php',
            type: 'get',
            dataType: 'json',
            data: {
            	q: qq.val(),
            	s: $('select.size').val(),
            	p: $('select.protocol').val(),
            	v: $('select.version').val()
            },
            success: function(res) {
                $('input.url').val(res.url).select()
            }
        })
    })
})
</script>
</html>